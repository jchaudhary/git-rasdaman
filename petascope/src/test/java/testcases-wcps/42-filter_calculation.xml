<?xml version="1.0" encoding="UTF-8" ?>
<ProcessCoveragesRequest xmlns="http://www.opengis.net/wcps/1.0" service="WCPS" version="1.0.0">
    <query>
        <xmlSyntax>
            <coverageIterator>
                <iteratorVar>c</iteratorVar>
                <coverageName>mr</coverageName>
            </coverageIterator>
            <encode store="false">
                <cast>
                    <construct>
                        <name>filteredImage</name>
                        <axisIterator>
                            <iteratorVar>px</iteratorVar>
                            <axis>x</axis>
                            <numericConstant>1</numericConstant>
                            <numericConstant>100</numericConstant>
                        </axisIterator>
                        <axisIterator>
                            <iteratorVar>py</iteratorVar>
                            <axis>y</axis>
                            <numericConstant>1</numericConstant>
                            <numericConstant>100</numericConstant>
                        </axisIterator>
                        <condense>
                            <opPlus/>
                            <iterator>
                                <iteratorVar>kx</iteratorVar>
                                <axis>x</axis>
                                <numericConstant>-1</numericConstant>
                                <numericConstant>1</numericConstant>
                            </iterator>
                            <iterator>
                                <iteratorVar>ky</iteratorVar>
                                <axis>y</axis>
                                <numericConstant>-1</numericConstant>
                                <numericConstant>1</numericConstant>
                            </iterator>
                            <div>
                                <mult>
                                    <slice>
                                        <cast>
                                            <const>
                                                <name>kernel</name>
                                                <axisIterator>
                                                    <iteratorVar>x</iteratorVar>
                                                    <axis>x</axis>
                                                    <numericConstant>-1</numericConstant>
                                                    <numericConstant>1</numericConstant>
                                                </axisIterator>
                                                <axisIterator>
                                                    <iteratorVar>y</iteratorVar>
                                                    <axis>y</axis>
                                                    <numericConstant>-1</numericConstant>
                                                    <numericConstant>1</numericConstant>
                                                </axisIterator>
                                                <value>-1</value>
                                                <value>0</value>
                                                <value>1</value>
                                                <value>-2</value>
                                                <value>0</value>
                                                <value>2</value>
                                                <value>-1</value>
                                                <value>0</value>
                                                <value>1</value>
                                            </const>
                                            <type>double</type>
                                        </cast>
                                        <axis>x</axis>
                                        <slicingPosition>
                                            <variableRef>kx</variableRef>
                                        </slicingPosition>
                                        <axis>y</axis>
                                        <slicingPosition>
                                            <variableRef>ky</variableRef>
                                        </slicingPosition>
                                    </slice>
                                    <slice>
                                        <coverage>c</coverage>
                                        <axis>x</axis>
                                        <slicingPosition>
                                            <numericAdd>
                                                <variableRef>px</variableRef>
                                                <variableRef>kx</variableRef>
                                            </numericAdd>
                                        </slicingPosition>
                                        <axis>y</axis>
                                        <slicingPosition>
                                            <numericAdd>
                                                <variableRef>py</variableRef>
                                                <variableRef>ky</variableRef>
                                            </numericAdd>
                                        </slicingPosition>
                                    </slice>
                                </mult>
                                <numericMult>
                                    <numericConstant>8</numericConstant>
                                    <numericConstant>5.13712275</numericConstant>
                                </numericMult>
                            </div>
                        </condense>
                    </construct>
                    <type>char</type>
                </cast>
                <format>jpeg</format>
            </encode>
        </xmlSyntax>
    </query>
</ProcessCoveragesRequest>
